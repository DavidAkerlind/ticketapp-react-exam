import{k as d}from"./vendor_react--lW_bsvM.js";const h=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";return Array.from({length:5},()=>e[Math.floor(Math.random()*e.length)]).join("")},u=()=>{const e=["A","B","C","D","E","F","G"];return e[Math.floor(Math.random()*e.length)]},g=e=>{const n=u(),r=Math.floor(Math.random()*100)+1;return console.log("genererar"),Array.from({length:e.amount},(t,o)=>({ticketId:h(),eventId:e.id,eventName:e.name,date:e.date,section:n,seat:r+o,when:e.when,where:e.where}))},f=e=>{console.log(e);const n=new Date,{date:r,to:t}=e.when,[o,a]=r.split(" "),c=["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"].findIndex(m=>m.toLowerCase()===a.toLowerCase());if(c===-1)return console.error("Unknown month:",a),!1;const[i,l]=t.split(":").map(Number),s=new Date;return s.setMonth(c),s.setDate(Number(o)),s.setHours(i),s.setMinutes(l),s.setSeconds(0),s.setMilliseconds(0),n>s},I=d(e=>({tickets:JSON.parse(localStorage.getItem("tickets"))||{},generateTicketsFromCart:n=>e(()=>{const r=n.flatMap(o=>g(o)),t=JSON.parse(localStorage.getItem("tickets"))||{};return r.forEach(o=>{t[o.eventId]||(t[o.eventId]=[]),t[o.eventId].push(o)}),localStorage.setItem("tickets",JSON.stringify(t)),{tickets:t}}),clearTickets:()=>e(()=>(localStorage.removeItem("tickets"),{tickets:{}})),removeUsedTickets:n=>e(r=>{const t={...r.tickets};return delete t[n],Object.keys(t).length===0?localStorage.removeItem("tickets"):localStorage.setItem("tickets",JSON.stringify(t)),{tickets:t}})}));export{f as i,I as u};
