import{n}from"./vendor_react-DFWkwnVY.js";const s=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";return Array.from({length:5},()=>e[Math.floor(Math.random()*e.length)]).join("")},c=()=>{const e=["A","B","C","D","E","F","G"];return e[Math.floor(Math.random()*e.length)]},i=e=>{const o=c(),a=Math.floor(Math.random()*100)+1;return console.log("genererar"),Array.from({length:e.amount},(t,r)=>({ticketId:s(),eventId:e.id,eventName:e.name,date:e.date,section:o,seat:a+r,when:e.when,where:e.where}))},g=n(e=>({tickets:JSON.parse(localStorage.getItem("tickets"))||{},generateTicketsFromCart:o=>e(()=>{const a=o.flatMap(r=>i(r)),t=JSON.parse(localStorage.getItem("tickets"))||{};return a.forEach(r=>{t[r.eventId]||(t[r.eventId]=[]),t[r.eventId].push(r)}),localStorage.setItem("tickets",JSON.stringify(t)),{tickets:t}}),clearTickets:()=>e(()=>(localStorage.removeItem("tickets"),{tickets:{}})),removeUsedTickets:o=>e(a=>{const t={...a.tickets};return delete t[o],Object.keys(t).length===0?localStorage.removeItem("tickets"):localStorage.setItem("tickets",JSON.stringify(t)),{tickets:t}})}));export{g as u};
