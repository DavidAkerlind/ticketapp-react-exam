import{j as e,F as o,i as l,k as c,r as u}from"./vendor_react--lW_bsvM.js";import{N as h}from"./NavBar-DTUDY5dr.js";import{u as m}from"./useFetch-DGeBIcs-.js";import{E as d}from"./EventItem-dxWax3tx.js";import"./Button-CMHL47xZ.js";/* empty css               */import"./useTicketStore-B17VFEkv.js";function p({events:s}){return s.length===0?e.jsx("p",{className:"error-p",children:"No events found"}):e.jsx("ul",{className:"event-list",children:s.map((t,r)=>e.jsx(d,{event:t},r))})}function v({events:s,handleSearch:t}){return console.log(s),e.jsxs("form",{className:"searchbar",children:[e.jsx("button",{children:e.jsx(o,{icon:l,className:"searchbar__icon"})}),e.jsx("input",{"aria-label":"Search Events",id:"search-input",type:"text",className:"searchbar__input",onChange:t})]})}const g=c(s=>({originalEventList:[],eventList:[],setEventList:t=>s({originalEventList:t,eventList:t}),updateBySearch:t=>s(r=>{const a=t.toLowerCase();return a.length===0?{eventList:r.originalEventList}:{eventList:r.originalEventList.filter(n=>n.name.toLowerCase().includes(a)||n.where.toLowerCase().includes(a)||n.when.date.toLowerCase().includes(a))}})})),S=()=>{const{data:s}=m(),{updateBySearch:t,setEventList:r,eventList:a}=g();u.useEffect(()=>{s!==null&&(console.log(s),r(s))},[s,r]);const i=n=>{console.log(n.target.value),t(n.target.value)};return e.jsxs("section",{className:"page page-all-events",children:[e.jsx("h1",{className:"page__header",children:"Events"}),s!==null?e.jsxs(e.Fragment,{children:[e.jsx(v,{handleSearch:i,events:a}),e.jsx(p,{events:a})]}):e.jsx("p",{className:"error-p",children:"Loading..."}),e.jsx(h,{})]})};export{S as default};
