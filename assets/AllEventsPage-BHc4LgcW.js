import{j as e,F as o,i as c,k as l,r as u}from"./vendor_react--lW_bsvM.js";import{N as h}from"./NavBar-DTUDY5dr.js";import{u as m}from"./useFetch-DGeBIcs-.js";import{E as p}from"./EventItem-dxWax3tx.js";import"./Button-CMHL47xZ.js";/* empty css               */import"./useTicketStore-B17VFEkv.js";function d({events:t}){return t.length===0?e.jsx("p",{className:"error-p",children:"No events found"}):e.jsx("ul",{className:"event-list",children:t.map((s,n)=>e.jsx(p,{event:s},n))})}function v({events:t,handleSearch:s}){return e.jsxs("form",{onSubmit:n=>{n.preventDefault()},className:"searchbar",children:[e.jsx("button",{children:e.jsx(o,{icon:c,className:"searchbar__icon"})}),e.jsx("input",{"aria-label":"Search Events",id:"search-input",type:"text",className:"searchbar__input",onChange:s})]})}const f=l(t=>({originalEventList:[],eventList:[],setEventList:s=>t({originalEventList:s,eventList:s}),updateBySearch:s=>t(n=>{const r=s.toLowerCase();return r.length===0?{eventList:n.originalEventList}:{eventList:n.originalEventList.filter(a=>a.name.toLowerCase().includes(r)||a.where.toLowerCase().includes(r)||a.when.date.toLowerCase().includes(r))}})})),b=()=>{const{data:t}=m(),{updateBySearch:s,setEventList:n,eventList:r}=f();u.useEffect(()=>{t!==null&&(console.log(t),n(t))},[t,n]);const i=a=>{s(a.target.value)};return e.jsxs("section",{className:"page page-all-events",children:[e.jsx("h1",{className:"page__header",children:"Events"}),t!==null?e.jsxs(e.Fragment,{children:[e.jsx(v,{handleSearch:i,events:r}),e.jsx(d,{events:r})]}):e.jsx("p",{className:"error-p",children:"Loading..."}),e.jsx(h,{})]})};export{b as default};
